(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71533f60"],{"1bef":function(s,t,i){s.exports=i.p+"img/登录飞机.decaf161.png"},2566:function(s,t,i){},5050:function(s,t,i){"use strict";i.r(t);var e=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"box"},[e("header",[e("span",{on:{click:s.onClickLeft}},[s._v("〈")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.isShow,expression:"!isShow"}]},[s._v(s._s(s.title))]),e("a",{directives:[{name:"show",rawName:"v-show",value:s.isShow,expression:"isShow"}],attrs:{href:"#kcjs"}},[s._v(s._s(s.txt1))]),e("a",{directives:[{name:"show",rawName:"v-show",value:s.isShow,expression:"isShow"}],attrs:{href:"#kcdg"}},[s._v(s._s(s.txt2))]),e("a",{directives:[{name:"show",rawName:"v-show",value:s.isShow,expression:"isShow"}],attrs:{href:"#kcpl"}},[s._v(s._s(s.txt3))]),e("van-icon",{attrs:{name:"share-o",size:"18"},on:{click:function(t){return s.fx()}}})],1),e("div",{staticClass:"jbrcont"},[e("div",{staticClass:"cont"},[e("van-overlay",{attrs:{show:s.show},on:{click:function(t){return s.fx()}}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"block"},[e("p",[s._v("分享")]),e("qriously",{attrs:{value:s.initQCode,size:150}})],1)])])],1),e("div",{staticClass:"content"},s._l(s.newList,(function(t,a){return e("dl",{key:a},[e("dt",[e("p",[e("span",{staticClass:"lls"},[s._v(s._s(t.title))]),e("span",{directives:[{name:"show",rawName:"v-show",value:0==s.collect,expression:"collect == 0"}],staticClass:"xing",on:{click:function(t){return s.sc()}}},[s._v("☆")]),e("span",{directives:[{name:"show",rawName:"v-show",value:1==s.collect,expression:"collect == 1"}],staticClass:"xing",on:{click:function(t){return s.sc()}}},[s._v("★")])]),e("span",{staticClass:"jbr_mf",style:{color:t.price>0?"red":"#EB6100"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.price>0,expression:"item.price>0"}],attrs:{src:i("875b"),alt:""}}),s._v(" "+s._s(t.price>0?(t.price/100).toFixed(2):"免费")+" ")]),e("p",[e("span",[s._v("共"+s._s(t.total_periods)+"课时 | "+s._s(t.sales_num)+"人已报名")])])]),e("dd")])})),0),e("div",{staticClass:"jbrJxtd"},[e("p",[s._v("教学团队")]),s._l(s.teacher,(function(t,i){return e("p",{key:i,staticClass:"jbr_lq",attrs:{id:"kcjs"},on:{click:function(i){return s.lqxq(t.teacher_id)}}},[e("img",{attrs:{src:t.avatar,alt:""}}),e("br"),e("span",[s._v(s._s(t.teacher_name))])])}))],2),e("div",{staticClass:"kcjs"},[e("p",{attrs:{id:"kcdg"}},[s._v("课程介绍")]),s._l(s.newList,(function(t,i){return e("p",{key:i},[e("span",{domProps:{innerHTML:s._s(t.course_details)}})])}))],2),e("div",{staticClass:"kcdg"},[e("p",[s._v("课程大纲")]),s._l(s.Video,(function(t,i){return e("div",{key:i},[e("div",{staticClass:"hf",on:{click:function(i){return s.bm(t)}}},[e("span",{staticClass:"dian"},[s._v("·")]),e("span",{directives:[{name:"show",rawName:"v-show",value:0==t.is_playback,expression:"item.is_playback == 0"}],staticClass:"hui"},[s._v("回放")]),e("span",{staticClass:"one"},[s._v(s._s(t.periods_title))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.is_playback,expression:"item.is_playback == 0"}],staticClass:"lq",on:{click:function(i){return s.bm(t)}}},[e("span",[s._v(s._s(t.teachers.length>0?t.teachers[0].teacher_name:""))]),e("span",[s._v(s._s(t.start_play))])])])}))],2),e("div",{staticClass:"kcpl",attrs:{id:"kcpl"}},[e("p",{staticClass:"pj"},[s._v("课程评论")]),s._l(s.Pl,(function(t,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:0==s.listShow,expression:"listShow==false"}],key:i,staticClass:"pl"},[e("img",{attrs:{src:t.avatar,alt:""}}),e("span",{staticClass:"name"},[s._v(s._s(t.nickname))]),e("van-rate",{attrs:{size:"14px",touchable:!1,color:"#EA7A2F","void-color":"#EA7A2F"},model:{value:t.grade,callback:function(i){s.$set(t,"grade",i)},expression:"item.grade"}}),e("p",{staticClass:"sj"},[s._v(s._s(s._f("formatDate")(t.created_at)))]),e("p",{staticClass:"nr"},[s._v(s._s(t.content))])],1)})),e("div",{directives:[{name:"show",rawName:"v-show",value:1==s.listShow,expression:"listShow==true"}],staticClass:"zwpl"},[e("img",{attrs:{src:i("94cc"),alt:""}}),e("p",[s._v("暂无评论")])])],2)]),e("van-overlay",{attrs:{show:s.flag},on:{click:function(t){s.flag=!1}}},[e("div",{staticClass:"wrapper1",on:{click:function(s){s.stopPropagation()}}},[e("div",{staticClass:"block1"},[e("span",{staticClass:"cuo",on:{click:function(t){return s.cuo()}}},[s._v("X")]),e("img",{attrs:{src:i("1bef"),alt:""}}),e("p",[s._v("赶紧登录一下吧")]),e("p",{staticClass:"yy"},[s._v("立即预约一对一辅导，浏览更多视频课程~")]),e("button",{on:{click:function(t){return s.dl()}}},[s._v("立即登录")])])])]),e("footer",[e("van-button",{on:{click:s.ljbm}},[s._v(" "+s._s(1==s.buy?"立即学习":"立即报名")+" ")])],1)],1)},a=[],o=(i("1157"),{data(){return{flag:!1,show:!1,title:"课程详情",txt1:"课程介绍 ",txt2:"课程大纲 ",txt3:"课程评论 ",isShow:!1,scShow:JSON.parse(localStorage.getItem("sc"))||!1,newList:[],listShow:!1,list:[],xid:0,teacher:[],Video:[],Pl:[],item:[],free:0,buy:0,price:0,istitle:"",cid:0,collect:0,qxid:0,bf:"",vid:"",initQCode:"https://www.jianshu.com/p/21aadfa95e1f"}},created(){},mounted(){window.addEventListener("scroll",this.handleScroll),this.xid=this.$route.query.id,this.item=this.$route.query.item,console.log(this.item),0==this.item.hasOwnProperty("has_buy")?(this.buy=1,console.log(this.buy)):(this.buy=this.item.has_buy,console.log(this.buy)),this.pl(),this.newlist(),this.video()},methods:{onClickLeft(){this.$router.push("/footer/coures")},fx(){this.show=!this.show},async bm(s){let{data:t}=await this.$Axios.get("/api/app/getPcRoomCode/course_id=287/chapter_id=933");if(console.log(t),console.log(s),null!=sessionStorage.getItem("token"))return 0==this.buy?this.price>0?(this.$toast("请购买之后观看"),!1):(this.$toast("请先报名"),!1):1==this.bf?(0==s.datum.length?this.vid=0:this.vid=s.datum[0].course_basis_id,this.$router.push({path:"myvideo",query:{videoid:s.video_id,id:this.vid}}),!1):(this.$toast(t.msg),!1);this.$router.push("/login")},async ljbm(){if(null!=sessionStorage.getItem("token"))if(0==this.buy)if(this.price>0)this.$router.push({path:"/bmfk",query:{id:this.xid}});else{let{data:s}=await this.$Axios.post("/api/app/order/downOrder",{shop_id:this.xid,type:3});if(console.log(s),200==s.code){let{data:s}=await this.$Axios.get("/api/app/courseInfo/basis_id="+this.xid);console.log(s),this.buy=s.data.info.is_buy,this.$toast.success("成功")}else this.$toast.success(s.msg)}else this.$router.push({path:"/study",query:{id:this.xid,title:this.istitle}});else this.$router.push("/login")},async sc(){if(null!=sessionStorage.getItem("token"))if(1==this.collect){let{data:s}=await this.$Axios.put(`/api/app/collect/cancel/${this.qxid}/1`),{data:t}=await this.$Axios.get("/api/app/courseInfo/basis_id="+this.xid);this.collect=t.data.info.is_collect,this.scShow=!1,this.$toast("取消收藏")}else{let{data:s}=await this.$Axios.post("/api/app/collect",{course_basis_id:this.xid,type:1}),{data:t}=await this.$Axios.get("/api/app/courseInfo/basis_id="+this.xid);this.collect=t.data.info.is_collect,this.scShow=!0,this.$toast("收藏成功")}else this.flag=!0},cuo(){this.flag=!1},dl(){this.$router.push("/login")},lqxq(s){null!=sessionStorage.getItem("token")?this.$router.push({path:"/teacher",query:{id:s}}):this.$router.push("/login")},async newlist(){let{data:s}=await this.$Axios.get("/api/app/courseInfo/basis_id="+this.xid);this.newList.push(s.data.info),console.log(this.newList),this.collect=this.newList[0].is_collect,this.qxid=this.newList[0].collect_id,this.buy=this.newList[0].is_buy,this.teacher=s.data.teachers,this.price=this.newList[0].price,this.istitle=this.newList[0].title},async video(){let{data:s}=await this.$Axios.post("/api/app/courseChapter/",{id:this.xid});this.Video=s.data,console.log(this.Video),this.bf=this.Video[0].is_playback},async pl(){let{data:s}=await this.$Axios.post("/api/app/courseComment",{id:this.xid,page:1,limit:10});this.Pl=s.data.list,0==this.Pl.length?this.listShow=!0:this.listShow=!1},handleScroll(){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop>80?this.isShow=!0:this.isShow=!1}},destroyed(){window.removeEventListener("scroll",this.handleScroll)}}),c=o,l=(i("81ae"),i("2877")),n=Object(l["a"])(c,e,a,!1,null,"4a99b742",null);t["default"]=n.exports},"81ae":function(s,t,i){"use strict";var e=i("2566"),a=i.n(e);a.a},"94cc":function(s,t,i){s.exports=i.p+"img/zwpl.1f7e8c74.png"}}]);
//# sourceMappingURL=chunk-71533f60.707eca80.js.map