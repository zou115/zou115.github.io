(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a5e09550","chunk-71533f60"],{"1bef":function(t,s,i){t.exports=i.p+"img/登录飞机.decaf161.png"},2566:function(t,s,i){},5050:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box"},[e("header",[e("span",{on:{click:t.onClickLeft}},[t._v("〈")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}]},[t._v(t._s(t.title))]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{href:"#kcjs"}},[t._v(t._s(t.txt1))]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{href:"#kcdg"}},[t._v(t._s(t.txt2))]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{href:"#kcpl"}},[t._v(t._s(t.txt3))]),e("van-icon",{attrs:{name:"share-o",size:"18"},on:{click:function(s){return t.fx()}}})],1),e("div",{staticClass:"jbrcont"},[e("div",{staticClass:"cont"},[e("van-overlay",{attrs:{show:t.show},on:{click:function(s){return t.fx()}}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"block"},[e("p",[t._v("分享")]),e("qriously",{attrs:{value:t.initQCode,size:150}})],1)])])],1),e("div",{staticClass:"content"},t._l(t.newList,(function(s,a){return e("dl",{key:a},[e("dt",[e("p",[e("span",{staticClass:"lls"},[t._v(t._s(s.title))]),e("span",{directives:[{name:"show",rawName:"v-show",value:0==t.collect,expression:"collect == 0"}],staticClass:"xing",on:{click:function(s){return t.sc()}}},[t._v("☆")]),e("span",{directives:[{name:"show",rawName:"v-show",value:1==t.collect,expression:"collect == 1"}],staticClass:"xing",on:{click:function(s){return t.sc()}}},[t._v("★")])]),e("span",{staticClass:"jbr_mf",style:{color:s.price>0?"red":"#EB6100"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:s.price>0,expression:"item.price>0"}],attrs:{src:i("875b"),alt:""}}),t._v(" "+t._s(s.price>0?(s.price/100).toFixed(2):"免费")+" ")]),e("p",[e("span",[t._v("共"+t._s(s.total_periods)+"课时 | "+t._s(s.sales_num)+"人已报名")])])]),e("dd")])})),0),e("div",{staticClass:"jbrJxtd"},[e("p",[t._v("教学团队")]),t._l(t.teacher,(function(s,i){return e("p",{key:i,staticClass:"jbr_lq",attrs:{id:"kcjs"},on:{click:function(i){return t.lqxq(s.teacher_id)}}},[e("img",{attrs:{src:s.avatar,alt:""}}),e("br"),e("span",[t._v(t._s(s.teacher_name))])])}))],2),e("div",{staticClass:"kcjs"},[e("p",{attrs:{id:"kcdg"}},[t._v("课程介绍")]),t._l(t.newList,(function(s,i){return e("p",{key:i},[e("span",{domProps:{innerHTML:t._s(s.course_details)}})])}))],2),e("div",{staticClass:"kcdg"},[e("p",[t._v("课程大纲")]),t._l(t.Video,(function(s,i){return e("div",{key:i},[e("div",{staticClass:"hf",on:{click:function(i){return t.bm(s)}}},[e("span",{staticClass:"dian"},[t._v("·")]),e("span",{directives:[{name:"show",rawName:"v-show",value:0==s.is_playback,expression:"item.is_playback == 0"}],staticClass:"hui"},[t._v("回放")]),e("span",{staticClass:"one"},[t._v(t._s(s.periods_title))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==s.is_playback,expression:"item.is_playback == 0"}],staticClass:"lq",on:{click:function(i){return t.bm(s)}}},[e("span",[t._v(t._s(s.teachers.length>0?s.teachers[0].teacher_name:""))]),e("span",[t._v(t._s(s.start_play))])])])}))],2),e("div",{staticClass:"kcpl",attrs:{id:"kcpl"}},[e("p",{staticClass:"pj"},[t._v("课程评论")]),t._l(t.Pl,(function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.listShow,expression:"listShow==false"}],key:i,staticClass:"pl"},[e("img",{attrs:{src:s.avatar,alt:""}}),e("span",{staticClass:"name"},[t._v(t._s(s.nickname))]),e("van-rate",{attrs:{size:"14px",touchable:!1,color:"#EA7A2F","void-color":"#EA7A2F"},model:{value:s.grade,callback:function(i){t.$set(s,"grade",i)},expression:"item.grade"}}),e("p",{staticClass:"sj"},[t._v(t._s(t._f("formatDate")(s.created_at)))]),e("p",{staticClass:"nr"},[t._v(t._s(s.content))])],1)})),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.listShow,expression:"listShow==true"}],staticClass:"zwpl"},[e("img",{attrs:{src:i("94cc"),alt:""}}),e("p",[t._v("暂无评论")])])],2)]),e("van-overlay",{attrs:{show:t.flag},on:{click:function(s){t.flag=!1}}},[e("div",{staticClass:"wrapper1",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"block1"},[e("span",{staticClass:"cuo",on:{click:function(s){return t.cuo()}}},[t._v("X")]),e("img",{attrs:{src:i("1bef"),alt:""}}),e("p",[t._v("赶紧登录一下吧")]),e("p",{staticClass:"yy"},[t._v("立即预约一对一辅导，浏览更多视频课程~")]),e("button",{on:{click:function(s){return t.dl()}}},[t._v("立即登录")])])])]),e("footer",[e("van-button",{on:{click:t.ljbm}},[t._v(" "+t._s(1==t.buy?"立即学习":"立即报名")+" ")])],1)],1)},a=[],o=(i("1157"),{data(){return{flag:!1,show:!1,title:"课程详情",txt1:"课程介绍 ",txt2:"课程大纲 ",txt3:"课程评论 ",isShow:!1,scShow:JSON.parse(localStorage.getItem("sc"))||!1,newList:[],listShow:!1,list:[],xid:0,teacher:[],Video:[],Pl:[],item:[],free:0,buy:0,price:0,istitle:"",cid:0,collect:0,qxid:0,bf:"",vid:"",initQCode:"https://www.jianshu.com/p/21aadfa95e1f"}},created(){},mounted(){window.addEventListener("scroll",this.handleScroll),this.xid=this.$route.query.id,this.item=this.$route.query.item,console.log(this.item),0==this.item.hasOwnProperty("has_buy")?(this.buy=1,console.log(this.buy)):(this.buy=this.item.has_buy,console.log(this.buy)),this.pl(),this.newlist(),this.video()},methods:{onClickLeft(){this.$router.push("/footer/coures")},fx(){this.show=!this.show},async bm(t){let{data:s}=await this.$Axios.get("/api/app/getPcRoomCode/course_id=287/chapter_id=933");if(console.log(s),console.log(t),null!=sessionStorage.getItem("token"))return 0==this.buy?this.price>0?(this.$toast("请购买之后观看"),!1):(this.$toast("请先报名"),!1):1==this.bf?(0==t.datum.length?this.vid=0:this.vid=t.datum[0].course_basis_id,this.$router.push({path:"myvideo",query:{videoid:t.video_id,id:this.vid}}),!1):(this.$toast(s.msg),!1);this.$router.push("/login")},async ljbm(){if(null!=sessionStorage.getItem("token"))if(0==this.buy)if(this.price>0)this.$router.push({path:"/bmfk",query:{id:this.xid}});else{let{data:t}=await this.$Axios.post("/api/app/order/downOrder",{shop_id:this.xid,type:3});if(console.log(t),200==t.code){let{data:t}=await this.$Axios.get("/api/app/courseInfo/basis_id="+this.xid);console.log(t),this.buy=t.data.info.is_buy,this.$toast.success("成功")}else this.$toast.success(t.msg)}else this.$router.push({path:"/study",query:{id:this.xid,title:this.istitle}});else this.$router.push("/login")},async sc(){if(null!=sessionStorage.getItem("token"))if(1==this.collect){let{data:t}=await this.$Axios.put(`/api/app/collect/cancel/${this.qxid}/1`),{data:s}=await this.$Axios.get("/api/app/courseInfo/basis_id="+this.xid);this.collect=s.data.info.is_collect,this.scShow=!1,this.$toast("取消收藏")}else{let{data:t}=await this.$Axios.post("/api/app/collect",{course_basis_id:this.xid,type:1}),{data:s}=await this.$Axios.get("/api/app/courseInfo/basis_id="+this.xid);this.collect=s.data.info.is_collect,this.scShow=!0,this.$toast("收藏成功")}else this.flag=!0},cuo(){this.flag=!1},dl(){this.$router.push("/login")},lqxq(t){null!=sessionStorage.getItem("token")?this.$router.push({path:"/teacher",query:{id:t}}):this.$router.push("/login")},async newlist(){let{data:t}=await this.$Axios.get("/api/app/courseInfo/basis_id="+this.xid);this.newList.push(t.data.info),console.log(this.newList),this.collect=this.newList[0].is_collect,this.qxid=this.newList[0].collect_id,this.buy=this.newList[0].is_buy,this.teacher=t.data.teachers,this.price=this.newList[0].price,this.istitle=this.newList[0].title},async video(){let{data:t}=await this.$Axios.post("/api/app/courseChapter/",{id:this.xid});this.Video=t.data,console.log(this.Video),this.bf=this.Video[0].is_playback},async pl(){let{data:t}=await this.$Axios.post("/api/app/courseComment",{id:this.xid,page:1,limit:10});this.Pl=t.data.list,0==this.Pl.length?this.listShow=!0:this.listShow=!1},handleScroll(){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop>80?this.isShow=!0:this.isShow=!1}},destroyed(){window.removeEventListener("scroll",this.handleScroll)}}),r=o,n=(i("81ae"),i("2877")),l=Object(n["a"])(r,e,a,!1,null,"4a99b742",null);s["default"]=l.exports},7311:function(t,s,i){"use strict";var e=i("e6d9"),a=i.n(e);a.a},"81ae":function(t,s,i){"use strict";var e=i("2566"),a=i.n(e);a.a},"94cc":function(t,s,i){t.exports=i.p+"img/zwpl.1f7e8c74.png"},"997c":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box"},[e("div",[e("header",[e("van-nav-bar",{attrs:{title:"特色课"},scopedSlots:t._u([{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"search",size:"18"},on:{click:function(s){return t.search()}}})]},proxy:!0}])}),e("van-dropdown-menu",[e("van-dropdown-item",{ref:"item1",staticClass:"Fl",attrs:{title:"分类"}},[t._l(t.jbrFl,(function(s,i){return e("div",{key:i,staticClass:"fenlei"},[e("p",[t._v(t._s(s.name))]),e("ul",t._l(s.child,(function(i,a){return e("li",{key:a,style:{background:t.Active1==a?"#EBEEFE":"#f5f5f5",color:t.Active1==a?"#EB6100":""},on:{click:function(s){return t.act1(a,i.id)}}},[t._v(" "+t._s(s.child[a].name)+" ")])})),0)])})),t._l(t.jbrF2,(function(s){return e("div",{key:s.id,staticClass:"fenlei"},[e("p",[t._v("学科")]),e("ol",t._l(s.child,(function(i,a){return e("li",{key:a,style:{background:t.Active2==a?"#EBEEFE":"#f5f5f5",color:t.Active2==a?"#EB6100":""},on:{click:function(s){return t.act2(a,i.id)}}},[t._v(" "+t._s(s.child[a].name)+" ")])})),0)])})),e("div",{staticClass:"but"},[e("button",{staticClass:"cz",on:{click:t.cz}},[t._v("重置")]),e("button",{staticClass:"qd",on:{click:function(s){return t.qd()}}},[t._v("确定")])])],2),e("van-dropdown-item",{ref:"item2",attrs:{title:"排序"}},[e("ul",{staticClass:"ul"},t._l(t.jbrarr,(function(s,i){return e("li",{key:i,style:{color:t.jbrPx==i?"#EB6100":""},on:{click:function(e){return t.jbrpx(s.type,i)}}},[t._v(" "+t._s(s.name)+" ")])})),0)]),e("van-dropdown-item",{ref:"item3",attrs:{title:"筛选"}},[e("div",{staticClass:"jbr_topsx"},t._l(t.jbrF3,(function(s,i){return e("ul",{key:i,staticClass:"uu"},[e("li",{style:{background:t.jbrActive==i?"#EBEEFE":"#f5f5f5",color:t.jbrActive==i?"#EB6100":""},on:{click:function(e){return t.jbract(i,s.type)}}},[t._v(" "+t._s(s.name)+" ")])])})),0)])],1)],1)]),e("div",{staticClass:"cont"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1,"error-text":"加载失败，请点击重试"},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.newList,(function(s,a){return e("dl",{key:a,on:{click:function(i){return t.jbrXq(s.id,s)}}},[e("dt",[e("p",{staticClass:"title"},[t._v(t._s(s.title))]),e("van-icon",{staticClass:"jbr_icon",attrs:{name:"clock-o"}}),e("span",[t._v(t._s(t._f("time")(s.start_play_date))+" | 共"+t._s(s.total_periods)+"课时")]),e("div",{staticClass:"jbr_lq"},[e("img",{attrs:{src:s.teachers_list[0].teacher_avatar,alt:""}}),e("span",[t._v(t._s(s.teachers_list[0].teacher_name))]),e("p",{directives:[{name:"show",rawName:"v-show",value:1==s.has_buy,expression:"item.has_buy == 1"}],staticClass:"p"},[e("img",{attrs:{src:i("5377"),alt:""}})])])],1),e("dd",[e("p",[e("span",[t._v(t._s(s.brows_num)+"人已报名")]),e("span",{staticClass:"jbr_jg",style:{color:s.price>0?"red":"#44A426"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:s.price>0,expression:"item.price>0"}],attrs:{src:i("875b"),alt:""}}),t._v(" "+t._s(s.price>0?(s.price/100).toFixed(2):"免费")+" ")])])])])})),0)],1)])},a=[],o=i("5050"),r=(i("1157"),{data(){return{value:0,switch1:!1,switch2:!1,option:[{text:"全部商品",value:0},{text:"新款商品",value:1},{text:"活动商品",value:2}],jbrFl:[],jbrF2:[],jbrActive:0,Active1:-1,Active2:-1,jbrPx:0,jbrarr:[{name:"综合排序",type:0},{name:"最新",type:1},{name:"最热",type:2},{name:"价格从低到高",type:3},{name:"价格从高到低",type:4}],jbrF3:[{name:"全部",type:0},{name:"大班课",type:2},{name:"小班课",type:3},{name:"公开课",type:4},{name:"点播课",type:5},{name:"面授课",type:7},{name:"音频课",type:8},{name:"系统课",type:9},{name:"图文课",type:10},{name:"会员课",type:6}],newList:[],page:1,limit:10,loading:!1,finished:!1,refreshing:!1,timer:null,id1:-1,id2:-1,arr:[],str:""}},components:{Xq:o["default"]},created(){},mounted(){this.fl(),this.px(),this.newlist()},methods:{onConfirm(){this.$refs.item1.toggle(),this.$refs.item2.toggle(),this.$refs.item3.toggle()},async jbract(t,s){this.jbrActive=t,this.$refs.item3.toggle();let{data:i}=await this.$Axios.get(`/api/app/courseBasis?page=1&limit=10&course_type=${s}&classify_id=&order_by=&attr_val_id=&is_vip=0`);console.log(i),this.newList=i.data.list,console.log(this.newList)},async jbrpx(t,s){this.jbrPx=s,this.$refs.item2.toggle();let{data:i}=await this.$Axios.get(`/api/app/courseBasis?page=1&limit=10&course_type=0&classify_id=&order_by=${t}&attr_val_id=&is_vip=0`);console.log(i),this.newList=i.data.list,console.log(this.newList)},async newlist(){this.loading=!0;let{data:t}=await this.$Axios.get(`/api/app/courseBasis?page=${this.page}&limit=${this.limit}`);this.loading=!1,this.newList=t.data.list},async fl(){let{data:t}=await this.$Axios.get("/api/app/courseClassify");this.jbrFl.push(t.data.attrclassify[0]),this.jbrF2.push(t.data.attrclassify[1])},async px(){let{data:t}=await this.$Axios.get("/api/app/courseBasis?order_by="+this.jbrPx)},act1(t,s){this.Active1=t,this.id1=s,console.log(this.id1)},act2(t,s){this.Active2=t,this.id2=s,console.log(this.id2)},jbrXq(t,s){console.log(t),this.$router.push({path:"/cod",query:{id:t,item:s}})},search(){this.$router.push("/search")},cz(){this.Active1=-1,this.Active2=-1,this.id1=-1,this.id2=-1,this.$refs.item1.toggle(),this.arr=[],this.str="",this.newlist()},async qd(){this.$refs.item1.toggle(),this.arr=[],this.str="",-1!=this.id1&&this.arr.push(this.id1),-1!=this.id2&&this.arr.push(this.id2),-1==this.id1&&-1==this.id2&&(this.arr=[],this.str=""),console.log(this.arr),this.str=this.arr.join(" "),console.log(this.str);let{data:t}=await this.$Axios.get(`/api/app/courseBasis?page=1&limit=10&course_type=0&classify_id=&order_by=&attr_val_id=${this.str}&is_vip=0&`);console.log(t),this.newList=t.data.list},onLoad(){setTimeout(()=>{this.limit+=7,this.newlist(),this.newList.length<=0&&(this.finished=!0)},1e3)}}}),n=r,l=(i("7311"),i("2877")),c=Object(l["a"])(n,e,a,!1,null,"6376613b",null);s["default"]=c.exports},e6d9:function(t,s,i){}}]);
//# sourceMappingURL=chunk-a5e09550.db0a3417.js.map