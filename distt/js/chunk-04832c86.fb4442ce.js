(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04832c86"],{2388:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"box"},[a("header",[a("span",{on:{click:t.onClickLeft}},[t._v("〈")]),a("span",{staticClass:"title"},[t._v(t._s(t.title))]),a("van-icon",{attrs:{name:"calendar-o",size:"18"},on:{click:function(s){return t.rl()}}})],1),t._l(t.coures,(function(s,e){return a("div",{key:e,staticClass:"info"},[a("span",[t._v("共"+t._s(s.section_num)+"课时")]),a("div",{staticClass:"ks"},[a("van-progress",{attrs:{"stroke-width":"3px",color:"#eb6100","pivot-text":"",percentage:s.progress_rate}})],1),a("span",[t._v("已学习"+t._s(s.progress_rate)+"%")])])})),a("div",{staticClass:"sp"},t._l(t.newlist,(function(s,e){return a("div",{key:e,staticClass:"kc",on:{click:function(s){return t.bm()}}},[a("div",{staticClass:"hf"},[a("span",{staticClass:"dian"},[t._v("·")]),a("span",{staticClass:"hui"},[t._v("[回放]")]),a("span",{staticClass:"one"},[t._v(t._s(s.periods_title))])]),a("div",{staticClass:"lq"},[a("span",[t._v(t._s(s.teachers.length>0?s.teachers[0].teacher_name:""))]),a("span",[t._v(t._s(s.start_play))])]),a("div",{staticClass:"ks"},[a("van-progress",{attrs:{"stroke-width":"3px",color:"#eb6100","pivot-text":"",percentage:s.progress_rate}}),a("span",[t._v("已观看"+t._s(s.progress_rate)+"%")])],1)])})),0),a("footer",[a("ul",[a("li",{on:{click:t.xpl}},[a("van-icon",{attrs:{name:"edit"}}),a("span",[t._v("写评论")])],1),a("li",{on:{click:t.kcxq}},[a("van-icon",{attrs:{name:"apps-o"}}),a("span",[t._v("课程详情")])],1),a("li",{on:{click:t.del}},[a("van-icon",{attrs:{name:"delete"}}),a("span",[t._v("移除列表")])],1)])]),a("van-popup",{model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[a("span",{staticClass:"cuo",on:{click:function(s){return t.cuo()}}},[t._v("X")]),a("br"),a("div",{staticClass:"pj"},[a("span",{staticClass:"xing"},[t._v("星级: "),a("van-rate",{attrs:{touchable:!0,color:"#EA7A2F","void-color":"#EA7A2F"},model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1),a("br"),a("span",{staticClass:"nr"},[t._v("内容:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fbpl,expression:"fbpl"}],attrs:{cols:"30",rows:"5"},domProps:{value:t.fbpl},on:{input:function(s){s.target.composing||(t.fbpl=s.target.value)}}}),a("br"),a("button",{on:{click:function(s){return t.fb()}}},[t._v("发布")])])])],2)},i=[],o={data(){return{title:"",show:!1,value:5,fbpl:"",xid:"",newlist:[],coures:[]}},created(){},mounted(){this.title=this.$route.query.title,this.xid=this.$route.query.id,this.kc()},methods:{onClickLeft(){this.$router.go(-1)},rl(){this.$router.push("/date")},bm(){this.$toast("回放未生成")},xpl(){this.show=!0},cuo(){this.show=!1,this.fbpl=""},kcxq(){this.$router.push({path:"/cod",query:{id:this.xid,item:this.newlist}})},async fb(){let{data:t}=await this.$Axios.post("/api/app/myStudy/comment",{grade:this.value,content:this.fbpl,course_id:this.xid,type:1});if(console.log(t),201==t.code?this.$toast(t.msg):(this.$toast("发布成功"),this.show=!1,this.fbpl=""),""==this.fbpl)return this.$toast("评价内容 必须填写"),!1},async del(){let{data:t}=await this.$Axios.delete("/api/app/myStudy/course/"+this.xid);console.log(t);let{data:s}=await this.$Axios.get("/api/app/myStudy/course/"+this.xid);this.newlist=s.data.periods,this.$toast.success("成功"),setTimeout(()=>{this.$router.push("/mycoures")},1e3)},async kc(){let{data:t}=await this.$Axios.get("/api/app/myStudy/course/"+this.xid);console.log(t),this.newlist=t.data.periods,console.log(this.newlist),this.coures.push(t.data.course),console.log(this.coures)}}},n=o,c=(a("d5aa"),a("2877")),l=Object(c["a"])(n,e,i,!1,null,"06321af1",null);s["default"]=l.exports},b056:function(t,s,a){},d5aa:function(t,s,a){"use strict";var e=a("b056"),i=a.n(e);i.a}}]);
//# sourceMappingURL=chunk-04832c86.fb4442ce.js.map